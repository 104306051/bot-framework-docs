---
title: Create a basic bot using Azure Bot Service | Microsoft Docs
description: Learn how to create a basic bot using Azure Bot Service.
author: kbrandl
ms.author: v-kibran
manager: rstand
ms.topic: article
ms.prod: bot-framework
ms.date: 04/14/2017
ms.reviewer: 

---

# Create a bot using the Basic template

To create a bot that uses dialogs to respond to user input, choose the [Basic template](~/azure/azure-bot-service-templates.md) when creating the bot using Azure Bot Service. This article provides a walkthrough of the code that is automatically generated when you create a bot using the Basic template and describes some ways in which you might extend the bot's default functionality.

## Code walkthrough
When a user posts a message, it is sent to the `Run` method in **Run.csx** as an [Activity](~/dotnet/bot-builder-dotnet-activities.md). The bot reacts to an incoming activity by first attempting to authenticate the request. If request validation fails, the bot responds with Unauthorized.

[!code-csharp[Authenticate request](~/includes/code/azure-bot-service-template-basic.cs#authenticateRequest)]

If request validation succeeds, the bot evaluates the [Activity type](~/dotnet/bot-builder-dotnet-activities.md) to determine how it will process the activity. You may want to update this portion of the code to add processing logic for other types of activities. For example, if your bot saves user state, you would want to process a `DeleteUserData` activity by deleting any data that it had previously stored for the user.

[!code-csharp[Evaluate activity type](~/includes/code/azure-bot-service-template-basic.cs#processMessage)]

The first message that a channel sends to the bot is typically a `ConversationUpdate` activity that specifies the users that are present in the conversation. The default code that is generated by the template shows how you can respond to the `ConversationUpdate` activity by welcoming users to the conversation. The list of users that the `ConversationUpdate` activity specifies (as members of the conversation) will include the bot, so this code intentionally omits the bot from the list of users that it welcomes to the conversation.

[!code-csharp[process ConversationUpdate activity](~/includes/code/azure-bot-service-template-basic.cs#conversationUpdate)]

Most activities that the bot receives will be of type `Message` and will contain the text and attachments that the user sent to the bot. To process an incoming message, the bot posts the message to `EchoDialog` (in **EchoDialog.csx**). 

[!code-csharp[process Message activity](~/includes/code/azure-bot-service-template-basic.cs#message)]

### EchoDialog.csx

**EchoDialog.csx** contains the dialog that controls the conversation with the user. When the dialog is instantiated, the dialog’s `StartAsync` method runs and calls `IDialogContext.Wait` with the continuation delegate that will be called when there is a new message. In the initial case, there is an immediate message available (the one that launched the dialog) and the message is immediately passed to the `MessageReceivedAsync` method.

[!code-csharp[EchoDialog](~/includes/code/azure-bot-service-template-basic.cs#echoDialog)]

The `MessageReceivedAsync` method echoes the user’s input and counts the number of interactions with the user. 
If the user’s input is the word "reset", the method uses [PromptDialog][promptDialog] to confirm that the user wants to reset the counter. The method calls the `IDialogContext.Wait` method to suspend the bot until it receives the next message.

[!code-csharp[MessageReceivedAsync](~/includes/code/azure-bot-service-template-basic.cs#messageReceivedAsync)]

The `AfterResetAsync` method processes the user’s response to `PromptDialog`. If the user confirms the request, the counter is reset and a message is sent to the user confirming the action. The method then calls the `IDialogContext.Wait` method to suspend the bot until it receives the next message, which will be processed by `MessageReceivedAsync`. 

[!code-csharp[AfterResetAsync](~/includes/code/azure-bot-service-template-basic.cs#afterResetAsync)]

## Extend default functionality

The Basic template provides a good foundation that you can build upon to create a bot that is capable of handling more advanced interactions with users. For example, you might add more prompts to collect information from the user, add [media attachments](~/dotnet/bot-builder-dotnet-add-media-attachments.md) or [rich cards](~/dotnet/bot-builder-dotnet-add-rich-card-attachments.md) to messages to provide a richer user experience, or model a more complex conversation flow by using [dialog chains](~/dotnet/bot-builder-dotnet-dialogs.md#dialog-chains). To learn more about developing bots in .NET, see [Develop with .NET](~/dotnet/index.md). To learn more about developing bots in Node.js, see [Develop with Node.js](~/nodejs/index.md).

## Additional resources

- [Create a bot with the Azure Bot Service](~/azure/azure-bot-service-quickstart.md)
- [Templates in the Azure Bot Service](~/azure/azure-bot-service-templates.md)
- [Dialogs in .NET](~/dotnet/bot-builder-dotnet-dialogs.md)
- [Dialogs in Node.js](~/nodejs/bot-builder-nodejs-manage-conversation-flow.md)
- <a href="https://github.com/Microsoft/BotBuilder-Samples" target="_blank">Bot Builder Samples GitHub repository</a>
- [Bot Builder SDK for .NET](~/dotnet/index.md)
- [Bot Builder SDK for Node.js](~/nodejs/index.md)

[promptDialog]: https://docs.botframework.com/en-us/csharp/builder/sdkreference/d9/d03/class_microsoft_1_1_bot_1_1_builder_1_1_dialogs_1_1_prompt_dialog.html